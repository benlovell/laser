# Place all the behaviors and hooks related to the matching controller here.
# All this logic will automatically be available in application.js.
# You can use CoffeeScript in this file: http://coffeescript.org/

jQuery ->
  if $('.infinite-scrolling').size() > 0
    $(window).on 'scroll', ->
      more_laser_gems_url = $('.pagination .next a').attr('href')
      if more_laser_gems_url && $(window).scrollTop() > $(document).height() - $(window).height() - 400
        $('.pagination').html('<img src="<%=image_url('ajax-loader.gif')%>" alt="Loading..." title="Loading..." /> Loading more gems...')
        $.getScript more_laser_gems_url
      return
    return

jQuery ->
  $('.tipit').tooltip()
  return

$(document).ready ->
  content = -> $(this).find('.whole_info')
  $('.tipster').each ->
    $(this).tooltip( title: content)
  return
